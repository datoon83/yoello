(this["webpackJsonpyoello-tech-test"]=this["webpackJsonpyoello-tech-test"]||[]).push([[0],{214:function(e,t,a){e.exports=a(383)},219:function(e,t,a){},220:function(e,t,a){},383:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(38),c=a.n(l),o=(a(219),a(39)),i=(a(220),a(389)),u=r.a.createContext({}),m=u.Provider,s=(u.Consumer,u),d=a(19),f=a(121),p={items:[],total:0},E=function(e,t){if("add_to_cart"===t.type){var a=e.items.find((function(e){return e.id===t.beer.id}));if(a)return++a.count,{items:Object(f.a)(e.items),total:b(e.items)};var n=[].concat(Object(f.a)(e.items),[Object(d.a)(Object(d.a)({},t.beer),{},{count:1})]);return{items:n,total:b(n)}}if("remove_from_cart"===t.type){var r=e.items.filter((function(e){return e.id!==t.beer.id}));return{items:r,total:b(r)}}},b=function(e){return e.reduce((function(e,t){return e+=t.abv*t.count}),0)},h={activeIndex:0,maxPanes:2},v=function(e,t){switch(t.type){case"right":return e.activeIndex===e.maxPanes?Object(d.a)(Object(d.a)({},e),{},{activeIndex:e.activeIndex}):Object(d.a)(Object(d.a)({},e),{},{activeIndex:e.activeIndex+1});case"left":return 0===e.activeIndex?Object(d.a)(Object(d.a)({},e),{},{activeIndex:e.activeIndex}):Object(d.a)(Object(d.a)({},e),{},{activeIndex:e.activeIndex-1});case"change":return Object(d.a)(Object(d.a)({},e),{},{activeIndex:t.activeIndex});default:return e}},C=a(391),j=a(204),x=a(393),O=a(48),y=function(){var e=Object(n.useContext)(s),t=e.state,a=e.cartDispatch;return r.a.createElement(C.a,null,r.a.createElement(C.a.Header,null,r.a.createElement(C.a.Row,null,r.a.createElement(C.a.HeaderCell,null),r.a.createElement(C.a.HeaderCell,null,"Beer"),r.a.createElement(C.a.HeaderCell,null,"Amount"),r.a.createElement(C.a.HeaderCell,null,"Cost"),r.a.createElement(C.a.HeaderCell,null))),r.a.createElement(C.a.Body,null,t.items.map((function(e){return r.a.createElement(C.a.Row,null,r.a.createElement(C.a.Cell,null,r.a.createElement(j.a,{floated:"right",style:{height:"100px",width:"auto"},src:e.image_url})),r.a.createElement(C.a.Cell,null,e.name),r.a.createElement(C.a.Cell,null,e.count),r.a.createElement(C.a.Cell,null,"\xa3",e.abv),r.a.createElement(C.a.Cell,null,r.a.createElement(x.a,{icon:!0,onClick:function(){return a({type:"remove_from_cart",beer:e})}},r.a.createElement(O.a,{name:"trash"}))))}))),r.a.createElement(C.a.Footer,null,r.a.createElement(C.a.Row,null,r.a.createElement(C.a.Cell,null),r.a.createElement(C.a.Cell,null),r.a.createElement(C.a.Cell,null,"Total"),r.a.createElement(C.a.Cell,null,"\xa3",t.total))))},k=a(190),g=a.n(k),I=a(392),w=a(388),_=a(394),z=function(e){var t=e.open,a=e.onClose,l=e.beer,c=Object(n.useContext)(s).cartDispatch;return r.a.createElement(w.a,{key:l.id,open:t,basic:!0,size:"small",onClose:a,style:{backgroundColor:"white",color:"black"}},r.a.createElement(w.a.Header,{style:{color:"black"}},l.name),r.a.createElement(w.a.Content,{image:!0},r.a.createElement(j.a,{style:{height:"150px",width:"auto"},src:l.image_url}),r.a.createElement(w.a.Description,null,r.a.createElement(_.a,null,l.tagline),r.a.createElement("p",null,l.abv),r.a.createElement("p",null,l.description),r.a.createElement("ul",null,l.food_pairing.map((function(e){return r.a.createElement("li",null,e)}))),r.a.createElement(x.a,{primary:!0,onClick:function(){return c({type:"add_to_cart",beer:l})}},"Add to Cart"))))},B=function(e){var t=e.beer,a=Object(n.useState)(!1),l=Object(o.a)(a,2),c=l[0],i=l[1];return r.a.createElement(I.a,{onClick:function(){return i(!0)}},r.a.createElement(I.a.Content,null,r.a.createElement(j.a,{circular:!0,style:{height:"100px",width:"auto"},src:t.image_url}),r.a.createElement(I.a.Header,null,t.name),r.a.createElement(I.a.Meta,null,t.abv)),r.a.createElement(z,{open:c,onClose:function(){return i(!1)},beer:t}))},H=function(e){var t=e.food,a=Object(n.useState)([]),l=Object(o.a)(a,2),c=l[0],i=l[1],u={all:"https://api.punkapi.com/v2/beers",pizza:"https://api.punkapi.com/v2/beers?food=pizza",steak:"https://api.punkapi.com/v2/beers?food=steak"};return Object(n.useEffect)((function(){fetch(u[t]).then((function(e){return e.json()})).then((function(e){return i(e)}))}),[c]),r.a.createElement(I.a.Group,null,c.map((function(e){return r.a.createElement(B,{key:e.id,beer:e})})))},S=function(e){var t=e.dispatch,a=e.food;return r.a.createElement(g.a,{onSwipeRight:function(){return t({type:"right"})},onSwipeLeft:function(){return t({type:"left"})}},r.a.createElement(i.a.Pane,null,r.a.createElement(H,{food:a})))};var P=function(){var e=Object(n.useReducer)(v,h),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useReducer)(E,p),u=Object(o.a)(c,2),s=u[0],d=u[1],f=[{menuItem:{key:"BeersWithPizza",icon:"food",content:"Beers with Pizza"},render:function(){return r.a.createElement(S,{dispatch:l,food:"pizza"})}},{menuItem:{key:"BeersWithSteak",icon:"users",content:"Beers with Steak"},render:function(){return r.a.createElement(S,{dispatch:l,food:"steak"})}},{menuItem:{key:"AllBeers",icon:"beer",content:"All Beers"},render:function(){return r.a.createElement(S,{dispatch:l,food:"all"})}}];return r.a.createElement(m,{value:{state:s,cartDispatch:d}},r.a.createElement("div",{className:"App"},r.a.createElement(i.a,{activeIndex:a.activeIndex,onTabChange:function(e,t){return l({type:"change",activeIndex:t.activeIndex})},panes:f})),r.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[214,1,2]]]);
//# sourceMappingURL=main.c3928f7c.chunk.js.map